<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1030" height="893"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1030" height="893"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="310.00918876703327" y="26.3876361" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Extension Init &amp; Reading data from cache </text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 103.26361593799999 L 60.07332701952734 893.1335231980001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 650.5420531330691 103.26361593799999 L 650.5420531330691 893.1335231980001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.5395997835899 103.26361593799999 L 818.5395997835899 893.1335231980001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 965.5581257708868 103.26361593799999 L 965.5581257708868 893.1335231980001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878699999996 55.765870957999994 L 111.35077533905468 55.765870957999994 L 111.35077533905468 103.26361593799999 L 8.795878699999996 103.26361593799999 L 8.795878699999996 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.882935478999997" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Extension</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 604.966097123112 55.765870957999994 L 696.1180091430261 55.765870957999994 L 696.1180091430261 103.26361593799999 L 604.966097123112 103.26361593799999 L 604.966097123112 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="624.0531539021121" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Lambda</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 745.6766183219727 55.765870957999994 L 891.4025812452071 55.765870957999994 L 891.4025812452071 103.26361593799999 L 745.6766183219727 103.26361593799999 L 745.6766183219727 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="764.7636751009727" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Parameter Store</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 908.9943386452071 55.765870957999994 L 1022.1219128965665 55.765870957999994 L 1022.1219128965665 103.26361593799999 L 908.9943386452071 103.26361593799999 L 908.9943386452071 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="928.0813954242071" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">DynamoDB</text></g></g><g><g><g><rect fill="white" stroke="none" x="216.78492378075128" y="138.447130738" width="277.0455325910938" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="216.78492378075128" y="156.038888138" width="263.60955847" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="219.4236873907513" y="154.27971239800002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Read "config.yaml" from "/var/task" to get </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="219.4236873907513" y="171.87146979800002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">the list of items that needs to be cached</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 178.90817275799998 L 636.0581728737358 178.90817275799998" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(650.5420531330691,178.90817275799998) translate(-650.5420531330691,-178.90817275799998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 635.8822552997358 171.5782738413333 L 650.5420531330691 178.90817275799998 L 635.8822552997358 186.23807167466666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="292.1258296743711" y="205.295808858" width="221.2258914778125" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="292.1258296743711" y="222.887566258" width="226.89517248367187" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="292.1258296743711" y="240.479323658" width="294.361267454375" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="294.76459328437113" y="221.128390518" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Initialize cache map and fetch all </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="294.76459328437113" y="238.720147918" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">parameters listed in config.yaml if </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="294.76459328437113" y="256.311905318" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">CACHE_EXTENSION_INIT_STARTUP=true</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 263.348608278 L 804.0557195242566 263.348608278" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(818.5395997835899,263.348608278) translate(-818.5395997835899,-263.348608278)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 803.8798019502566 256.0187093613333 L 818.5395997835899 263.348608278 L 803.8798019502566 270.6785071946666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="80.89023994286067" y="289.736244378" width="145.43493688796875" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.52900355286067" y="305.568826038" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Initialization complete</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 312.605528998 L 130.44035661952734 312.605528998 L 130.44035661952734 335.474813618 L 74.55720727886067 335.474813618" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(60.07332701952734,335.474813618) translate(-60.07332701952734,-335.474813618)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 74.73312485286067 328.14491470133333 L 60.07332701952734 335.474813618 L 74.73312485286067 342.80471253466663 Z"/></g></g><g><g><rect fill="white" stroke="none" x="363.5985936445821" y="361.862449718" width="221.2258914778125" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="363.5985936445821" y="379.454207118" width="201.63389623855468" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="363.5985936445821" y="397.045964518" width="298.43426550125" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="366.2373572545821" y="377.695031378" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Initialize cache map and fetch all </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="366.2373572545821" y="395.286788778" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">records listed in config.yaml if </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="366.2373572545821" y="412.878546178" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> CACHE_EXTENSION_INIT_STARTUP=true</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 419.915249138 L 951.0742455115535 419.915249138" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(965.5581257708868,419.915249138) translate(-965.5581257708868,-419.915249138)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 950.8983279375535 412.58535022133333 L 965.5581257708868 419.915249138 L 950.8983279375535 427.24514805466663 Z"/></g></g><g><g><rect fill="white" stroke="none" x="80.89023994286067" y="446.302885238" width="145.43493688796875" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.52900355286067" y="462.135466898" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Initialization complete</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 469.172169858 L 130.44035661952734 469.172169858 L 130.44035661952734 492.041454478 L 74.55720727886067 492.041454478" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(60.07332701952734,492.041454478) translate(-60.07332701952734,-492.041454478)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 74.73312485286067 484.71155556133334 L 60.07332701952734 492.041454478 L 74.73312485286067 499.37135339466664 Z"/></g></g><g><g><rect fill="white" stroke="none" x="80.89023994286067" y="518.429090578" width="135.61392248367187" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.52900355286067" y="534.261672238" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Start a HTTP server</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 541.2983751979999 L 130.44035661952734 541.2983751979999 L 130.44035661952734 564.167659818 L 74.55720727886067 564.167659818" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(60.07332701952734,564.167659818) translate(-60.07332701952734,-564.167659818)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 74.73312485286067 556.8377609013332 L 60.07332701952734 564.167659818 L 74.73312485286067 571.4975587346667 Z"/></g></g><g><g><rect fill="white" stroke="none" x="147.3433039077044" y="590.555295918" width="415.9287723371875" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="149.98206751770442" y="606.3878775779999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP Get:/parameters/&lt;name&gt; to read from parameters cache</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 650.5420531330691 613.424580538 L 74.55720727886067 613.424580538" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(60.07332701952734,613.424580538) translate(-60.07332701952734,-613.424580538)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 74.73312485286067 606.0946816213333 L 60.07332701952734 613.424580538 L 74.73312485286067 620.7544794546667 Z"/></g></g><g><g><rect fill="white" stroke="none" x="185.21374152977472" y="639.812216638" width="340.1878970930469" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="185.21374152977472" y="657.403974038" width="115.26315344070312" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="185.21374152977472" y="674.995731438" width="327.9402164289844" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="187.85250513977473" y="655.644798298" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Check whether item exists in cache and not exired?</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="187.85250513977473" y="673.236555698" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">If yes return it or </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="187.85250513977473" y="690.828313098" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">read it from parameter store, cache it and return it</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 697.865016058 L 636.0581728737358 697.865016058" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(650.5420531330691,697.865016058) translate(-650.5420531330691,-697.865016058)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 635.8822552997358 690.5351171413333 L 650.5420531330691 697.865016058 L 635.8822552997358 705.1949149746667 Z"/></g></g><g><g><rect fill="white" stroke="none" x="80.89023994286067" y="724.252652158" width="548.834900266875" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.52900355286067" y="740.085233818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP Get:/dynamodb/&lt;table&gt;&lt;hashkey&gt;&lt;rangekey&gt; to read from dynamodb cache</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 650.5420531330691 747.1219367780001 L 74.55720727886067 747.1219367780001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(60.07332701952734,747.1219367780001) translate(-60.07332701952734,-747.1219367780001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 74.73312485286067 739.7920378613334 L 60.07332701952734 747.1219367780001 L 74.73312485286067 754.4518356946668 Z"/></g></g><g><g><rect fill="white" stroke="none" x="156.30537055809503" y="773.5095728780001" width="340.1878970930469" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="156.30537055809503" y="791.1013302780001" width="115.26315344070312" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="156.30537055809503" y="808.6930876780001" width="398.0046390364063" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="158.94413416809505" y="789.342154538" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Check whether item exists in cache and not exired?</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="158.94413416809505" y="806.933911938" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">If yes return it or </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="158.94413416809505" y="824.5256693380001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">read it from Dynamodb, cache it and return it as JSON string</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 831.5623722980001 L 636.0581728737358 831.5623722980001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(650.5420531330691,831.5623722980001) translate(-650.5420531330691,-831.5623722980001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 635.8822552997358 824.2324733813334 L 650.5420531330691 831.5623722980001 L 635.8822552997358 838.8922712146668 Z"/></g></g></g><g/><g/><g/><g/></g></svg>