<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1080" height="893"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1080" height="893"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="334.665621872502" y="26.3876361" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Extension Init &amp; Reading data from cache </text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 103.26361593799999 L 60.07332701952734 893.1335231980001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 699.8549193440066 103.26361593799999 L 699.8549193440066 893.1335231980001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 867.8524659945274 103.26361593799999 L 867.8524659945274 893.1335231980001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1014.8709919818243 103.26361593799999 L 1014.8709919818243 893.1335231980001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878699999996 55.765870957999994 L 111.35077533905468 55.765870957999994 L 111.35077533905468 103.26361593799999 L 8.795878699999996 103.26361593799999 L 8.795878699999996 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.882935478999997" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Extension</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 654.2789633340495 55.765870957999994 L 745.4308753539636 55.765870957999994 L 745.4308753539636 103.26361593799999 L 654.2789633340495 103.26361593799999 L 654.2789633340495 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="673.3660201130496" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Lambda</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 794.9894845329102 55.765870957999994 L 940.7154474561446 55.765870957999994 L 940.7154474561446 103.26361593799999 L 794.9894845329102 103.26361593799999 L 794.9894845329102 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="814.0765413119102" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Parameter Store</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 958.3072048561446 55.765870957999994 L 1071.434779107504 55.765870957999994 L 1071.434779107504 103.26361593799999 L 958.3072048561446 103.26361593799999 L 958.3072048561446 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="977.3942616351446" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">DynamoDB</text></g></g><g><g><g><rect fill="white" stroke="none" x="241.44135688622003" y="138.447130738" width="277.0455325910938" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="241.44135688622003" y="156.038888138" width="263.60955847" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="244.08012049622005" y="154.27971239800002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Read "config.yaml" from "/var/task" to get </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="244.08012049622005" y="171.87146979800002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">the list of items that needs to be cached</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 178.90817275799998 L 685.3710390846733 178.90817275799998" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(699.8549193440066,178.90817275799998) translate(-699.8549193440066,-178.90817275799998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 685.1951215106733 171.5782738413333 L 699.8549193440066 178.90817275799998 L 685.1951215106733 186.23807167466666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="316.78226277983987" y="205.295808858" width="221.2258914778125" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="316.78226277983987" y="222.887566258" width="226.89517248367187" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="316.78226277983987" y="240.479323658" width="294.361267454375" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="319.4210263898399" y="221.128390518" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Initialize cache map and fetch all </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="319.4210263898399" y="238.720147918" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">parameters listed in config.yaml if </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="319.4210263898399" y="256.311905318" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">CACHE_EXTENSION_INIT_STARTUP=true</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 263.348608278 L 853.3685857351941 263.348608278" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(867.8524659945274,263.348608278) translate(-867.8524659945274,-263.348608278)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 853.1926681611941 256.0187093613333 L 867.8524659945274 263.348608278 L 853.1926681611941 270.6785071946666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="80.89023994286067" y="289.736244378" width="145.43493688796875" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.52900355286067" y="305.568826038" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Initialization complete</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 312.605528998 L 130.44035661952734 312.605528998 L 130.44035661952734 335.474813618 L 74.55720727886067 335.474813618" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(60.07332701952734,335.474813618) translate(-60.07332701952734,-335.474813618)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 74.73312485286067 328.14491470133333 L 60.07332701952734 335.474813618 L 74.73312485286067 342.80471253466663 Z"/></g></g><g><g><rect fill="white" stroke="none" x="388.25502675005083" y="361.862449718" width="221.2258914778125" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="388.25502675005083" y="379.454207118" width="201.63389623855468" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="388.25502675005083" y="397.045964518" width="298.43426550125" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="390.89379036005084" y="377.695031378" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Initialize cache map and fetch all </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="390.89379036005084" y="395.286788778" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">records listed in config.yaml if </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="390.89379036005084" y="412.878546178" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> CACHE_EXTENSION_INIT_STARTUP=true</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 419.915249138 L 1000.387111722491 419.915249138" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(1014.8709919818243,419.915249138) translate(-1014.8709919818243,-419.915249138)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1000.211194148491 412.58535022133333 L 1014.8709919818243 419.915249138 L 1000.211194148491 427.24514805466663 Z"/></g></g><g><g><rect fill="white" stroke="none" x="80.89023994286067" y="446.302885238" width="145.43493688796875" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.52900355286067" y="462.135466898" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Initialization complete</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 469.172169858 L 130.44035661952734 469.172169858 L 130.44035661952734 492.041454478 L 74.55720727886067 492.041454478" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(60.07332701952734,492.041454478) translate(-60.07332701952734,-492.041454478)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 74.73312485286067 484.71155556133334 L 60.07332701952734 492.041454478 L 74.73312485286067 499.37135339466664 Z"/></g></g><g><g><rect fill="white" stroke="none" x="80.89023994286067" y="518.429090578" width="135.61392248367187" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.52900355286067" y="534.261672238" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Start a HTTP server</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 541.2983751979999 L 130.44035661952734 541.2983751979999 L 130.44035661952734 564.167659818 L 74.55720727886067 564.167659818" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(60.07332701952734,564.167659818) translate(-60.07332701952734,-564.167659818)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 74.73312485286067 556.8377609013332 L 60.07332701952734 564.167659818 L 74.73312485286067 571.4975587346667 Z"/></g></g><g><g><rect fill="white" stroke="none" x="147.34333442528253" y="590.555295918" width="465.2415775129688" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="149.98209803528255" y="606.3878775779999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP Get:/parameters?name=&lt;name&gt; to read from parameters cache</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 699.8549193440066 613.424580538 L 74.55720727886067 613.424580538" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(60.07332701952734,613.424580538) translate(-60.07332701952734,-613.424580538)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 74.73312485286067 606.0946816213333 L 60.07332701952734 613.424580538 L 74.73312485286067 620.7544794546667 Z"/></g></g><g><g><rect fill="white" stroke="none" x="209.87017463524347" y="639.812216638" width="340.1878970930469" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="209.87017463524347" y="657.403974038" width="115.26315344070312" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="209.87017463524347" y="674.995731438" width="327.9402164289844" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="212.50893824524348" y="655.644798298" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Check whether item exists in cache and not exired?</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="212.50893824524348" y="673.236555698" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">If yes return it or </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="212.50893824524348" y="690.828313098" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">read it from parameter store, cache it and return it</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 697.865016058 L 685.3710390846733 697.865016058" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(699.8549193440066,697.865016058) translate(-699.8549193440066,-697.865016058)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 685.1951215106733 690.5351171413333 L 699.8549193440066 697.865016058 L 685.1951215106733 705.1949149746667 Z"/></g></g><g><g><rect fill="white" stroke="none" x="80.89023994286067" y="724.252652158" width="598.1477664778125" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.52900355286067" y="740.085233818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP Get:/dynamodb?name=&lt;table&gt;&lt;hashkey&gt;&lt;rangekey&gt; to read from dynamodb cache</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 699.8549193440066 747.1219367780001 L 74.55720727886067 747.1219367780001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(60.07332701952734,747.1219367780001) translate(-60.07332701952734,-747.1219367780001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 74.73312485286067 739.7920378613334 L 60.07332701952734 747.1219367780001 L 74.73312485286067 754.4518356946668 Z"/></g></g><g><g><rect fill="white" stroke="none" x="180.96180366356378" y="773.5095728780001" width="340.1878970930469" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="180.96180366356378" y="791.1013302780001" width="115.26315344070312" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="180.96180366356378" y="808.6930876780001" width="398.0046390364063" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="183.6005672735638" y="789.342154538" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Check whether item exists in cache and not exired?</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="183.6005672735638" y="806.933911938" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">If yes return it or </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="183.6005672735638" y="824.5256693380001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">read it from Dynamodb, cache it and return it as JSON string</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 831.5623722980001 L 685.3710390846733 831.5623722980001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(699.8549193440066,831.5623722980001) translate(-699.8549193440066,-831.5623722980001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 685.1951215106733 824.2324733813334 L 699.8549193440066 831.5623722980001 L 685.1951215106733 838.8922712146668 Z"/></g></g></g><g/><g/><g/><g/></g></svg>