<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1015" height="910"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1015" height="910"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="302.50393974359577" y="26.3876361" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Extension Init &amp; Reading data from cache </text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 103.26361593799999 L 60.07332701952734 910.7252805979999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 635.5315550861941 103.26361593799999 L 635.5315550861941 910.7252805979999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 803.5291017367149 103.26361593799999 L 803.5291017367149 910.7252805979999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 950.5476277240118 103.26361593799999 L 950.5476277240118 910.7252805979999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878699999996 55.765870957999994 L 111.35077533905468 55.765870957999994 L 111.35077533905468 103.26361593799999 L 8.795878699999996 103.26361593799999 L 8.795878699999996 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.882935478999997" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Extension</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 589.955599076237 55.765870957999994 L 681.1075110961511 55.765870957999994 L 681.1075110961511 103.26361593799999 L 589.955599076237 103.26361593799999 L 589.955599076237 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="609.0426558552371" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Lambda</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 730.6661202750977 55.765870957999994 L 876.3920831983321 55.765870957999994 L 876.3920831983321 103.26361593799999 L 730.6661202750977 103.26361593799999 L 730.6661202750977 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="749.7531770540977" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Parameter Store</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 893.9838405983321 55.765870957999994 L 1007.1114148496915 55.765870957999994 L 1007.1114148496915 103.26361593799999 L 893.9838405983321 103.26361593799999 L 893.9838405983321 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="913.0708973773321" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">DynamoDB</text></g></g><g><g><g><rect fill="white" stroke="none" x="209.27967475731378" y="138.447130738" width="277.0455325910938" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="209.27967475731378" y="156.038888138" width="263.60955847" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="211.9184383673138" y="154.27971239800002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Read "config.yaml" from "/var/task" to get </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="211.9184383673138" y="171.87146979800002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">the list of items that needs to be cached</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 178.90817275799998 L 621.0476748268608 178.90817275799998" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(635.5315550861941,178.90817275799998) translate(-635.5315550861941,-178.90817275799998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 620.8717572528608 171.5782738413333 L 635.5315550861941 178.90817275799998 L 620.8717572528608 186.23807167466666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="284.6205806509336" y="205.295808858" width="221.2258914778125" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="284.6205806509336" y="222.887566258" width="226.89517248367187" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="284.6205806509336" y="240.479323658" width="294.361267454375" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="287.25934426093363" y="221.128390518" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Initialize cache map and fetch all </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="287.25934426093363" y="238.720147918" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">parameters listed in config.yaml if </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="287.25934426093363" y="256.311905318" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">CACHE_EXTENSION_INIT_STARTUP=true</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 263.348608278 L 789.0452214773816 263.348608278" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(803.5291017367149,263.348608278) translate(-803.5291017367149,-263.348608278)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 788.8693039033816 256.0187093613333 L 803.5291017367149 263.348608278 L 788.8693039033816 270.6785071946666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="80.89023994286067" y="289.736244378" width="145.43493688796875" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.52900355286067" y="305.568826038" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Initialization complete</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 312.605528998 L 130.44035661952734 312.605528998 L 130.44035661952734 335.474813618 L 74.55720727886067 335.474813618" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(60.07332701952734,335.474813618) translate(-60.07332701952734,-335.474813618)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 74.73312485286067 328.14491470133333 L 60.07332701952734 335.474813618 L 74.73312485286067 342.80471253466663 Z"/></g></g><g><g><rect fill="white" stroke="none" x="356.0933446211446" y="361.862449718" width="221.2258914778125" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="356.0933446211446" y="379.454207118" width="201.63389623855468" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="356.0933446211446" y="397.045964518" width="298.43426550125" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="358.7321082311446" y="377.695031378" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Initialize cache map and fetch all </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="358.7321082311446" y="395.286788778" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">records listed in config.yaml if </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="358.7321082311446" y="412.878546178" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> CACHE_EXTENSION_INIT_STARTUP=true</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 419.915249138 L 936.0637474646785 419.915249138" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(950.5476277240118,419.915249138) translate(-950.5476277240118,-419.915249138)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 935.8878298906785 412.58535022133333 L 950.5476277240118 419.915249138 L 935.8878298906785 427.24514805466663 Z"/></g></g><g><g><rect fill="white" stroke="none" x="80.89023994286067" y="446.302885238" width="145.43493688796875" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.52900355286067" y="462.135466898" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Initialization complete</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 469.172169858 L 130.44035661952734 469.172169858 L 130.44035661952734 492.041454478 L 74.55720727886067 492.041454478" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(60.07332701952734,492.041454478) translate(-60.07332701952734,-492.041454478)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 74.73312485286067 484.71155556133334 L 60.07332701952734 492.041454478 L 74.73312485286067 499.37135339466664 Z"/></g></g><g><g><rect fill="white" stroke="none" x="80.89023994286067" y="518.429090578" width="135.61392248367187" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.52900355286067" y="534.261672238" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Start a HTTP server</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 541.2983751979999 L 130.44035661952734 541.2983751979999 L 130.44035661952734 564.167659818 L 74.55720727886067 564.167659818" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(60.07332701952734,564.167659818) translate(-60.07332701952734,-564.167659818)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 74.73312485286067 556.8377609013332 L 60.07332701952734 564.167659818 L 74.73312485286067 571.4975587346667 Z"/></g></g><g><g><rect fill="white" stroke="none" x="115.1816522963763" y="590.555295918" width="465.2415775129688" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="117.8204159063763" y="606.3878775779999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP Get:/parameters?name=&lt;name&gt; to read from parameters cache</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 635.5315550861941 613.424580538 L 74.55720727886067 613.424580538" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(60.07332701952734,613.424580538) translate(-60.07332701952734,-613.424580538)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 74.73312485286067 606.0946816213333 L 60.07332701952734 613.424580538 L 74.73312485286067 620.7544794546667 Z"/></g></g><g><g><rect fill="white" stroke="none" x="177.70849250633722" y="639.812216638" width="340.1878970930469" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="177.70849250633722" y="657.403974038" width="115.26315344070312" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="177.70849250633722" y="674.995731438" width="327.9402164289844" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="180.34725611633723" y="655.644798298" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Check whether item exists in cache and not exired?</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="180.34725611633723" y="673.236555698" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">If yes return it or </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="180.34725611633723" y="690.828313098" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">read it from parameter store, cache it and return it</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 697.865016058 L 621.0476748268608 697.865016058" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(635.5315550861941,697.865016058) translate(-635.5315550861941,-697.865016058)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 620.8717572528608 690.5351171413333 L 635.5315550861941 697.865016058 L 620.8717572528608 705.1949149746667 Z"/></g></g><g><g><rect fill="white" stroke="none" x="80.89023994286067" y="724.2526521579999" width="533.82440222" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="80.89023994286067" y="741.8444095579999" width="200.0376590559375" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.52900355286067" y="740.0852338179999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP Get:/dynamodb?name=&lt;table&gt;&lt;hyphen&gt;&lt;hashkey&gt;&lt;hyphen&gt;&lt;rangekey&gt; </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.52900355286067" y="757.6769912179999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">to read from dynamodb cache</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 635.5315550861941 764.713694178 L 74.55720727886067 764.713694178" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(60.07332701952734,764.713694178) translate(-60.07332701952734,-764.713694178)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 74.73312485286067 757.3837952613333 L 60.07332701952734 764.713694178 L 74.73312485286067 772.0435930946667 Z"/></g></g><g><g><rect fill="white" stroke="none" x="148.80012153465753" y="791.1013302779999" width="340.1878970930469" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="148.80012153465753" y="808.6930876779999" width="115.26315344070312" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="148.80012153465753" y="826.2848450779999" width="398.0046390364063" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="151.43888514465755" y="806.9339119379998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Check whether item exists in cache and not exired?</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="151.43888514465755" y="824.5256693379998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">If yes return it or </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="151.43888514465755" y="842.1174267379998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">read it from Dynamodb, cache it and return it as JSON string</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.07332701952734 849.1541296979999 L 621.0476748268608 849.1541296979999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(635.5315550861941,849.1541296979999) translate(-635.5315550861941,-849.1541296979999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 620.8717572528608 841.8242307813332 L 635.5315550861941 849.1541296979999 L 620.8717572528608 856.4840286146666 Z"/></g></g></g><g/><g/><g/><g/></g></svg>